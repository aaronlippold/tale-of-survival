---
import { showCountingSell, sectionPrices } from "../config.json";
import PriceCard from "./PriceCard.astro";
---

<div class="bg-book-gray">
  <div class="pt-12 px-4 sm:px-6 lg:px-8 lg:pt-20">
    <div class="text-center">
      <p
        class="mt- text-3xl leading-9 font-extrabold text-white sm:text-4xl sm:leading-10 lg:text-5xl lg:leading-none"
      >
        Buy Now
      </p>
      <p
        class="mt-3 max-w-4xl mx-auto text-xl leading-7 text-gray-300 sm:mt-5 sm:leading-8 font-body"
      >
        Experience a tale of resilience, hope, and the enduring human spirit.
      </p>
    </div>
  </div>

  <div class="mt-16 bg-white pb-12 lg:mt-20 lg:pb-20">
    <div class="relative z-0">
      <div class="absolute inset-0 h-5/6 bg-book-gray lg:h-2/3"></div>
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="relative lg:grid lg:grid-cols-7">
          {
            sectionPrices.priceLeft && (
              <div class="mx-auto max-w-md lg:mx-0 lg:max-w-none lg:col-start-1 lg:col-end-3 lg:row-start-2 lg:row-end-3">
                <div class="h-full flex flex-col rounded-lg shadow-lg overflow-hidden lg:rounded-none lg:rounded-l-lg">
                  <PriceCard {...sectionPrices.priceLeft} position="left" />
                </div>
              </div>
            )
          }

          {
            sectionPrices.priceMain && (
              <div class="relative mt-10 max-w-lg mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-start-3 lg:col-end-6 lg:row-start-1 lg:row-end-4">
                <div class="relative z-10 rounded-lg shadow-xl">
                  <PriceCard
                    {...sectionPrices.priceMain}
                    position="main"
                    mostPopular={true}
                  />
                </div>
              </div>
            )
          }

          {
            sectionPrices.priceRight && (
              <div class="mt-10 mx-auto max-w-md lg:m-0 lg:max-w-none lg:col-start-6 lg:col-end-8 lg:row-start-2 lg:row-end-3">
                <div class="h-full flex flex-col rounded-lg shadow-lg overflow-hidden lg:rounded-none lg:rounded-r-lg">
                  <PriceCard {...sectionPrices.priceRight} position="right" />
                </div>
              </div>
            )
          }
        </div>
      </div>

      {
        showCountingSell && (
          <p class="text-center text-base text-gray-700 mt-10">
            More than <span class="font-semibold">2,425 copies</span> sold
          </p>
        )
      }
    </div>
  </div>
</div>
